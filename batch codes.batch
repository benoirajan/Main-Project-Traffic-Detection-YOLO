# @title Train from custom weight batch=47 epoch=30
imgSize = 700 #@param {type:"number"}
batch = 30 #@param {type:"number"}
epochs = 30 #@param {type:"number"}
data = "/content/drive/MyDrive/Colab-Notebooks/TrafficDetection/dataset/data.yaml" #@param {type:"string"}
cfg = "/content/drive/MyDrive/Colab-Notebooks/TrafficDetection/yolov5/models/yolov5s.yaml" #@param {type:"string"}
weights = "/content/drive/MyDrive/Colab-Notebooks/TrafficDetection/yolov5/runs/train/exp5/weights/best.pt" #@param {type: "string"}

#train
python '/content/drive/MyDrive/Colab-Notebooks/TrafficDetection/yolov5/train.py' --img $imgSize --batch $batch --epochs $epochs --data $data --weights $weights --cfg $cfg

# testing
python './main/yolov5/detect.py' --img 1280  --source 'https://cdn.dnaindia.com/sites/default/files/styles/full/public/2016/07/14/481934-heavy-vehicles.jpg' --weights './main/weights/singleclass.pt'  --project './main/output' --line-thickness 1 --visualize --hide-labels




imgSize = -1 #@param {type:"number"}
source = "'/content/drive/MyDrive/Video /4K Road traffic video for object detection and tracking - free download now!.mp4'" #@param {type:"string"}
weights = "/content/drive/MyDrive/Colab-Notebooks/TrafficDetection/yolov5/runs/train/css5/weights/best.pt" #@param {type: "string"}
output = '/content/drive/MyDrive/Colab-Notebooks/TrafficDetection/output/' #@param{type:"string"}
line_thickness = 2 #@param{type:"number"}
codes = '#--visualize' #@param{type:"string"}

!python '/content/drive/MyDrive/Colab-Notebooks/TrafficDetection/yolov5/detect.py' --source $source --weights $weights --project $output --line-thickness $line_thickness $codes
